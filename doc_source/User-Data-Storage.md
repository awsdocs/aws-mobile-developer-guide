# User File Storage<a name="User-Data-Storage"></a>


|  | 
| --- |
|   **Looking for the AWS SDKs for iOS and Android?** These SDKs and their docs are now part of [AWS Amplify](https://amzn.to/am-amplify-docs)\. The content on this page applies only to apps that were configured using AWS Mobile Hub or awsmobile CLI\. For existing apps that use AWS Mobile SDK prior to v2\.8\.0, we highly recommend you migrate your app to use [AWS Amplify](https://amzn.to/am-amplify-docs) and the latest SDK\.  | 

Choose AWS Mobile Hub User File Storage to:
+ Add cloud storage of user files, profile data, and app state to your mobile app
+ Use fine\-grained control of access to files and data, implementing four common patterns of permissions policy


|  |  | 
| --- |--- |
|  Looking for Amazon Cognito Sync?  |  Amazon Cognito Sync has been deprecated\. For real time data sync between devices, with built\-in offline capabilities, see [AWS AppSync](https://aws.amazon.com/appsync/)\.  | 

 [Create a free Mobile Hub project and add the User File Storage feature\.](https://console.aws.amazon.com/mobilehub/home#/) 

## Feature Details<a name="user-data-storage-details"></a>

The Mobile Hub User File Storage feature, creates and configures four folders for each user, inside an Amazon Simple Storage Service \(Amazon S3\) bucket belonging to the app\.

Best practice for app security is to allow the minimum access to your buckets that will support your app design\. Each of the four folders provisioned has a policy illustrating different permissions choices attached\. In addition, Mobile Hub provides the option to restrict access to your app to only authenticated users using the [User Sign\-in](User-Sign-in.md#user-sign-in) feature\.

 *Note:* If you do not make the [User Sign\-in](User-Sign-in.md#user-sign-in) feature **Required** then, where not blocked by a folder or bucket access policy, unauthenticated users will have access to read and/or write data\.

The following table shows the details of permissions policies that are provisioned for each folder type\.


|  **Folder name**  |  **Owner permissions**  |  **Everyone else permissions**  | 
| --- | --- | --- | 
|  Public  |  Read/Write  |  Read/Write  | 
|  Private  |  Read/Write  |  None  | 
|  Protected  |  Read/Write  |  Read Only  | 
|  Uploads  |  Write Only  |  Write Only  | 

The following image shows IAM policy being applied to control file access in a Protected folder\. The policy grants read/write permissions for the user who created the folder, and read only permissions for everyone else\.

![\[Image NOT FOUND\]](http://docs.aws.amazon.com/aws-mobile/latest/developerguide/images/diagram-abstract-user-data-storage-folders.png)

The User File Storage feature enables you to store user files such as photos or documents in the cloud, and it also allows you to save user profile data in key/value pairs, such as app settings or game state\. When you select this feature, an [Amazon S3](https://docs.aws.amazon.com/AmazonS3/latest/dev/Introduction.html) bucket is created as the place your app will store user files\.

## User File Storage At a Glance<a name="user-data-storage-ataglance"></a>


|  |  | 
| --- |--- |
|   **AWS services and resources configured**   |  [\[See the AWS documentation website for more details\]](http://docs.aws.amazon.com/aws-mobile/latest/developerguide/User-Data-Storage.html) Mobile Hub\-enabled features use Amazon Cognito for authentication and IAM for authorization\. For more information, see [User Sign\-in](User-Sign-in.md#user-sign-in)\. For more information, see [Viewing AWS Resources Provisioned for this Feature](#resources-user-data-storage)\.  | 
|   **Configuration options**   |  This feature enables the following configuration options mobile backend capabilities: [\[See the AWS documentation website for more details\]](http://docs.aws.amazon.com/aws-mobile/latest/developerguide/User-Data-Storage.html)  | 
|   **Quickstart demo features**   |  This feature adds the following to a quickstart app generated by Mobile Hub: [\[See the AWS documentation website for more details\]](http://docs.aws.amazon.com/aws-mobile/latest/developerguide/User-Data-Storage.html)  | 

## Viewing AWS Resources Provisioned for this Feature<a name="resources-user-data-storage"></a>

The following image shows the Mobile Hub**Resources** pane displaying elements typically provisioned for the User File Storage feature\.

![\[Image NOT FOUND\]](http://docs.aws.amazon.com/aws-mobile/latest/developerguide/images/resources-user-data-storage.png)